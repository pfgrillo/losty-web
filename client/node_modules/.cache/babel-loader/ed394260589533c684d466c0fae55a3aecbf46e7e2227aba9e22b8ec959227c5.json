{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{loginChunk}from\"../../features/authentication/services/auth.service\";var initialState={user:null,authorized:false,error:null};export var authSlice=createSlice({name:\"auth\",initialState:initialState,reducers:{login:function login(state,action){state.user=action.payload;},logout:function logout(state){state.user=null;},isAuthorized:function isAuthorized(state){state.authorized=!state.authorized;}},extraReducers:function extraReducers(builder){builder.addCase(loginChunk.pending,function(state){}).addCase(loginChunk.fulfilled,function(state,action){state.user=action.payload;state.authorized=true;state.error=null;}).addCase(loginChunk.rejected,function(state,action){state.user=null;state.authorized=false;state.error=action.error.message;});}});var _authSlice$actions=authSlice.actions,login=_authSlice$actions.login,logout=_authSlice$actions.logout;export{login,logout};export var selectUser=function selectUser(state){return state.auth.user;};export var selecError=function selecError(state){return state.auth.error;};export default authSlice.reducer;","map":{"version":3,"names":["createSlice","loginChunk","initialState","user","authorized","error","authSlice","name","reducers","login","state","action","payload","logout","isAuthorized","extraReducers","builder","addCase","pending","fulfilled","rejected","message","_authSlice$actions","actions","selectUser","auth","selecError","reducer"],"sources":["/Users/pablogrillo/Desktop/losty-web/client/src/store/features/authSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport type { PayloadAction } from \"@reduxjs/toolkit\";\nimport { User } from \"../../models/User\";\nimport { loginChunk } from \"../../features/authentication/services/auth.service\";\nimport { RootState } from \"..\";\n\nexport interface AuthState {\n  user: null | User;\n  authorized: boolean,\n  error: string |Â null;\n}\n\nconst initialState: AuthState = {\n  user: null,\n  authorized: false,\n  error: null,\n};\n\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    login: (state, action: PayloadAction<User>) => {\n      state.user = action.payload;\n    },\n    logout: (state) => {\n      state.user = null;\n    },\n    isAuthorized: (state) => {\n      state.authorized = !state.authorized;\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n        .addCase(loginChunk.pending, (state) => { })\n        .addCase(loginChunk.fulfilled, (state, action: PayloadAction<User>) => {\n            state.user = action.payload;\n            state.authorized = true;\n            state.error = null;\n        })\n        .addCase(loginChunk.rejected, (state, action) => {\n            state.user = null;\n            state.authorized = false;\n            state.error = action.error.message as string;\n        });\n},\n});\n\nexport const { login, logout } = authSlice.actions;\n\nexport const selectUser = (state: RootState) => state.auth.user;\nexport const selecError = (state: RootState) => state.auth.error;\n\nexport default authSlice.reducer;\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAG9C,OAASC,UAAU,KAAQ,qDAAqD,CAShF,GAAM,CAAAC,YAAuB,CAAG,CAC9BC,IAAI,CAAE,IAAI,CACVC,UAAU,CAAE,KAAK,CACjBC,KAAK,CAAE,IACT,CAAC,CAED,MAAO,IAAM,CAAAC,SAAS,CAAGN,WAAW,CAAC,CACnCO,IAAI,CAAE,MAAM,CACZL,YAAY,CAAZA,YAAY,CACZM,QAAQ,CAAE,CACRC,KAAK,CAAE,SAAAA,MAACC,KAAK,CAAEC,MAA2B,CAAK,CAC7CD,KAAK,CAACP,IAAI,CAAGQ,MAAM,CAACC,OAAO,CAC7B,CAAC,CACDC,MAAM,CAAE,SAAAA,OAACH,KAAK,CAAK,CACjBA,KAAK,CAACP,IAAI,CAAG,IAAI,CACnB,CAAC,CACDW,YAAY,CAAE,SAAAA,aAACJ,KAAK,CAAK,CACvBA,KAAK,CAACN,UAAU,CAAG,CAACM,KAAK,CAACN,UAAU,CACtC,CACF,CAAC,CACDW,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CAC1BA,OAAO,CACFC,OAAO,CAAChB,UAAU,CAACiB,OAAO,CAAE,SAACR,KAAK,CAAK,CAAE,CAAC,CAAC,CAC3CO,OAAO,CAAChB,UAAU,CAACkB,SAAS,CAAE,SAACT,KAAK,CAAEC,MAA2B,CAAK,CACnED,KAAK,CAACP,IAAI,CAAGQ,MAAM,CAACC,OAAO,CAC3BF,KAAK,CAACN,UAAU,CAAG,IAAI,CACvBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACtB,CAAC,CAAC,CACDY,OAAO,CAAChB,UAAU,CAACmB,QAAQ,CAAE,SAACV,KAAK,CAAEC,MAAM,CAAK,CAC7CD,KAAK,CAACP,IAAI,CAAG,IAAI,CACjBO,KAAK,CAACN,UAAU,CAAG,KAAK,CACxBM,KAAK,CAACL,KAAK,CAAGM,MAAM,CAACN,KAAK,CAACgB,OAAiB,CAChD,CAAC,CAAC,CACV,CACA,CAAC,CAAC,CAEK,IAAAC,kBAAA,CAA0BhB,SAAS,CAACiB,OAAO,CAAnCd,KAAK,CAAAa,kBAAA,CAALb,KAAK,CAAEI,MAAM,CAAAS,kBAAA,CAANT,MAAM,CAAuB,OAAAJ,KAAA,CAAAI,MAAA,EAEnD,MAAO,IAAM,CAAAW,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAId,KAAgB,QAAK,CAAAA,KAAK,CAACe,IAAI,CAACtB,IAAI,GAC/D,MAAO,IAAM,CAAAuB,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIhB,KAAgB,QAAK,CAAAA,KAAK,CAACe,IAAI,CAACpB,KAAK,GAEhE,cAAe,CAAAC,SAAS,CAACqB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}