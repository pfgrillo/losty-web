{"ast":null,"code":"import _toConsumableArray from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{createSlice}from\"@reduxjs/toolkit\";import{deleteMarker,fetchMarkers,postMarker}from\"../../features/explore/services/report.service\";var initialState={username:null,markers:[],loading:false,error:null};export var reportSlice=createSlice({name:\"report\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchMarkers.pending,function(state){state.loading=true;state.error=null;}).addCase(fetchMarkers.fulfilled,function(state,action){state.loading=false;state.markers=action.payload;state.error=null;}).addCase(fetchMarkers.rejected,function(state,action){state.loading=false;state.error=action.error.message;}).addCase(postMarker.pending,function(state){state.loading=true;state.error=null;}).addCase(postMarker.fulfilled,function(state,action){state.loading=false;state.markers=[].concat(_toConsumableArray(state.markers),[action.payload]);state.error=null;}).addCase(postMarker.rejected,function(state,action){state.loading=false;state.error=action.error.message;}).addCase(deleteMarker.pending,function(state){state.loading=true;state.error=null;}).addCase(deleteMarker.fulfilled,function(state){state.loading=false;state.error=null;}).addCase(deleteMarker.rejected,function(state,action){state.loading=false;state.error=action.error.message;});}});export var selectReportState=function selectReportState(state){return state.report;};export var selectUser=function selectUser(state){return state.report.username;};export var selectMarkers=function selectMarkers(state){return state.report.markers;};export default reportSlice.reducer;","map":{"version":3,"names":["createSlice","deleteMarker","fetchMarkers","postMarker","initialState","username","markers","loading","error","reportSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","message","concat","_toConsumableArray","selectReportState","report","selectUser","selectMarkers","reducer"],"sources":["/Users/pablogrillo/Desktop/losty-web/client/src/store/features/reportSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport type { PayloadAction } from \"@reduxjs/toolkit\";\nimport { Marker } from \"../../models/Marker\";\nimport { RootState } from \"..\";\nimport { deleteMarker, fetchMarkers, postMarker } from \"../../features/explore/services/report.service\";\n\nexport interface ReportState {\n    username: string | null;\n    markers: Marker[];\n    loading: boolean;\n    error: string | null;\n}\n\nconst initialState: ReportState = {\n    username: null,\n    markers: [],\n    loading: false,\n    error: null,\n};\n\nexport const reportSlice = createSlice({\n    name: \"report\",\n    initialState,\n    reducers: { },\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchMarkers.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(fetchMarkers.fulfilled, (state, action: PayloadAction<Marker[]>) => {\n                state.loading = false;\n                state.markers = action.payload;\n                state.error = null;\n            })\n            .addCase(fetchMarkers.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.error.message as string;\n            })\n            .addCase(postMarker.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(postMarker.fulfilled, (state, action: PayloadAction<any>) => {\n                state.loading = false;\n                state.markers = [...state.markers, action.payload];\n                state.error = null;\n            })\n            .addCase(postMarker.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.error.message as string;\n            })\n            .addCase(deleteMarker.pending, (state) => {\n                state.loading = true;\n                state.error = null;\n            })\n            .addCase(deleteMarker.fulfilled, (state) => {\n                state.loading = false;\n                state.error = null;\n            })\n            .addCase(deleteMarker.rejected, (state, action) => {\n                state.loading = false;\n                state.error = action.error.message as string;\n            });\n    },\n});\n\nexport const selectReportState = (state: RootState) => state.report;\nexport const selectUser = (state: RootState) => state.report.username;\nexport const selectMarkers = (state: RootState) => state.report.markers;\n\nexport default reportSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}