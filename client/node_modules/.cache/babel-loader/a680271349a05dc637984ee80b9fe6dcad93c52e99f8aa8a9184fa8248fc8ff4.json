{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _ref;import{createAsyncThunk}from'@reduxjs/toolkit';import api from'../../../services/createAxiosClient';export var loginChunk=createAsyncThunk('auth/loginChunk',function(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){var response,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.post('http://localhost:3050/auth/login',payload);case 3:response=_context.sent;user={username:response.data.username};localStorage.setItem('token',response.data.token);localStorage.setItem('user',response.data.username);return _context.abrupt(\"return\",user);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);throw _context.t0;case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}))).apply(this,arguments);});","map":{"version":3,"names":["createAsyncThunk","api","loginChunk","_x","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","payload","response","user","wrap","_callee$","_context","prev","next","post","sent","username","data","localStorage","setItem","token","abrupt","t0","stop","apply","arguments"],"sources":["/Users/pablogrillo/Desktop/losty-web/client/src/features/authentication/services/auth.service.ts"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../../services/createAxiosClient';\nimport { AuthForm } from '../components/LoginForm';\n\nexport const loginChunk = createAsyncThunk('auth/loginChunk', async (payload: AuthForm) => {\n    try {\n        //const response = await api.post('http://localhost:8080/auth/login', payload);\n        const response = await api.post('http://localhost:3050/auth/login', payload);\n\n        const user = { username: response.data.username };\n\n        localStorage.setItem('token', response.data.token);\n        localStorage.setItem('user', response.data.username);\n\n        return user;\n    } catch (error) {\n        throw error;\n    }\n});\n"],"mappings":"2RAAA,OAASA,gBAAgB,KAAQ,kBAAkB,CACnD,MAAO,CAAAC,GAAG,KAAM,qCAAqC,CAGrD,MAAO,IAAM,CAAAC,UAAU,CAAGF,gBAAgB,CAAC,iBAAiB,UAAAG,EAAA,SAAAC,IAAA,CAAAA,IAAA,EAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAC,QAAOC,OAAiB,MAAAC,QAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGvD,CAAAf,GAAG,CAACgB,IAAI,CAAC,kCAAkC,CAAER,OAAO,CAAC,QAAtEC,QAAQ,CAAAI,QAAA,CAAAI,IAAA,CAERP,IAAI,CAAG,CAAEQ,QAAQ,CAAET,QAAQ,CAACU,IAAI,CAACD,QAAS,CAAC,CAEjDE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEZ,QAAQ,CAACU,IAAI,CAACG,KAAK,CAAC,CAClDF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEZ,QAAQ,CAACU,IAAI,CAACD,QAAQ,CAAC,CAAC,OAAAL,QAAA,CAAAU,MAAA,UAE9Cb,IAAI,UAAAG,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAW,EAAA,CAAAX,QAAA,mBAAAA,QAAA,CAAAW,EAAA,0BAAAX,QAAA,CAAAY,IAAA,MAAAlB,OAAA,iBAIlB,IAAAmB,KAAA,MAAAC,SAAA,IAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}