{"ast":null,"code":"import{useEffect}from\"react\";import SectionMain from\"../common/components/Section/SectionMain\";import{useLocation,useParams}from\"react-router-dom\";import ItemCard from\"../features/explore/components/ItemCard\";import{useSelector}from\"react-redux\";import CardBox from\"../common/components/Cards\";import{selectUser}from\"../store/features/userSlice\";import ChatContainer from\"../features/messages/components/ChatContainer\";import{ReportType}from\"../models/Marker\";import Button from\"../common/components/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChatPage=function ChatPage(){var _location$state;var location=useLocation();var roomId=useParams();var userStore=useSelector(selectUser);var item=(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.item;useEffect(function(){if(!userStore){return;}},[userStore]);return/*#__PURE__*/_jsx(SectionMain,{children:item?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-1 gap-x-4 w-full sm:flex-row lg:flex-row\",children:[/*#__PURE__*/_jsx(ChatContainer,{guestId:item.user,chatRoom:roomId.item}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CardBox,{children:/*#__PURE__*/_jsx(ItemCard,{marker:item})})}),localStorage.getItem('user')===item.user&&item.reportType===ReportType.FOUND&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-100 rounded-md my-5 p-3\",children:\"Warning:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"my-5\",children:/*#__PURE__*/_jsx(Button,{label:\"Return item\",color:\"main\",onClick:function onClick(){return window.history.back();}})})]})]}):null});};export default ChatPage;","map":{"version":3,"names":["useEffect","SectionMain","useLocation","useParams","ItemCard","useSelector","CardBox","selectUser","ChatContainer","ReportType","Button","jsx","_jsx","jsxs","_jsxs","ChatPage","_location$state","location","roomId","userStore","item","state","children","className","guestId","user","chatRoom","marker","localStorage","getItem","reportType","FOUND","label","color","onClick","window","history","back"],"sources":["/Users/pablogrillo/Desktop/losty-web/client/src/pages/Chat.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport SectionMain from \"../common/components/Section/SectionMain\"\nimport { useLocation, useParams } from \"react-router-dom\";\nimport ItemCard from \"../features/explore/components/ItemCard\";\nimport { useSelector } from \"react-redux\";\nimport CardBox from \"../common/components/Cards\";\nimport { selectUser } from \"../store/features/userSlice\";\nimport ChatContainer from \"../features/messages/components/ChatContainer\";\nimport { Marker, ReportType } from \"../models/Marker\";\nimport Button from \"../common/components/Button\";\nimport Buttons from \"../common/components/Buttons\";\n\n\n\nconst ChatPage = () => {\n    const location = useLocation();\n    const roomId = useParams();\n    const userStore = useSelector(selectUser);\n    const item: Marker = location.state?.item;\n\n    useEffect(() => {\n        if (!userStore) {\n            return;\n        }\n    }, [userStore]);\n\n    return (\n        <SectionMain>\n            {item ? (\n                <div className=\"flex flex-col flex-1 gap-x-4 w-full sm:flex-row lg:flex-row\">\n                    <ChatContainer guestId={item!.user} chatRoom={roomId.item!} />\n                    <div className=\"flex flex-col\">\n                        <div>\n                            <CardBox>\n                                <ItemCard marker={item} />\n                            </CardBox>\n                        </div>\n                        {localStorage.getItem('user') === item.user && item.reportType === ReportType.FOUND &&\n                            <div className=\"bg-yellow-100 rounded-md my-5 p-3\">\n                                Warning:\n                            </div>}\n                        <div className=\"my-5\">\n                            <Button\n                                label=\"Return item\"\n                                color=\"main\"\n                                onClick={() => window.history.back()}\n                            />\n                        </div>\n                    </div>\n                </div>) : null}\n        </SectionMain>\n    );\n}\n\nexport default ChatPage;"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,MAAO,CAAAC,WAAW,KAAM,0CAA0C,CAClE,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,QAAQ,KAAM,yCAAyC,CAC9D,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,OAAO,KAAM,4BAA4B,CAChD,OAASC,UAAU,KAAQ,6BAA6B,CACxD,MAAO,CAAAC,aAAa,KAAM,+CAA+C,CACzE,OAAiBC,UAAU,KAAQ,kBAAkB,CACrD,MAAO,CAAAC,MAAM,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAKjD,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,KAAAC,eAAA,CACnB,GAAM,CAAAC,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAgB,MAAM,CAAGf,SAAS,CAAC,CAAC,CAC1B,GAAM,CAAAgB,SAAS,CAAGd,WAAW,CAACE,UAAU,CAAC,CACzC,GAAM,CAAAa,IAAY,EAAAJ,eAAA,CAAGC,QAAQ,CAACI,KAAK,UAAAL,eAAA,iBAAdA,eAAA,CAAgBI,IAAI,CAEzCpB,SAAS,CAAC,UAAM,CACZ,GAAI,CAACmB,SAAS,CAAE,CACZ,OACJ,CACJ,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,mBACIP,IAAA,CAACX,WAAW,EAAAqB,QAAA,CACPF,IAAI,cACDN,KAAA,QAAKS,SAAS,CAAC,6DAA6D,CAAAD,QAAA,eACxEV,IAAA,CAACJ,aAAa,EAACgB,OAAO,CAAEJ,IAAI,CAAEK,IAAK,CAACC,QAAQ,CAAER,MAAM,CAACE,IAAM,CAAE,CAAC,cAC9DN,KAAA,QAAKS,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC1BV,IAAA,QAAAU,QAAA,cACIV,IAAA,CAACN,OAAO,EAAAgB,QAAA,cACJV,IAAA,CAACR,QAAQ,EAACuB,MAAM,CAAEP,IAAK,CAAE,CAAC,CACrB,CAAC,CACT,CAAC,CACLQ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,GAAKT,IAAI,CAACK,IAAI,EAAIL,IAAI,CAACU,UAAU,GAAKrB,UAAU,CAACsB,KAAK,eAC/EnB,IAAA,QAAKW,SAAS,CAAC,mCAAmC,CAAAD,QAAA,CAAC,UAEnD,CAAK,CAAC,cACVV,IAAA,QAAKW,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBV,IAAA,CAACF,MAAM,EACHsB,KAAK,CAAC,aAAa,CACnBC,KAAK,CAAC,MAAM,CACZC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAC,MAAM,CAACC,OAAO,CAACC,IAAI,CAAC,CAAC,EAAC,CACxC,CAAC,CACD,CAAC,EACL,CAAC,EACL,CAAC,CAAI,IAAI,CACT,CAAC,CAEtB,CAAC,CAED,cAAe,CAAAtB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}