{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{fetchUser}from\"../../features/user/services/user.service\";var initialState={id:null,username:localStorage.getItem(\"user\")||null,name:null,items:[],chats:[],error:null};export var userSlice=createSlice({name:\"user\",initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(fetchUser.pending,function(state){}).addCase(fetchUser.fulfilled,function(state,action){state.id=action.payload._id;state.username=action.payload.username;state.name=action.payload.name;state.items=action.payload.items;state.chats=action.payload.chats;state.error=null;}).addCase(fetchUser.rejected,function(state,action){state.error=action.error.message;});}});export var selectUser=function selectUser(state){return state.user;};export var selectUserItems=function selectUserItems(state){return state.user.items;};export var selectUserChats=function selectUserChats(state){return state.user.chats;};export default userSlice.reducer;","map":{"version":3,"names":["createSlice","fetchUser","initialState","id","username","localStorage","getItem","name","items","chats","error","userSlice","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","_id","rejected","message","selectUser","user","selectUserItems","selectUserChats","reducer"],"sources":["/Users/pablogrillo/Desktop/losty-web/client/src/store/features/userSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport type { PayloadAction } from \"@reduxjs/toolkit\";\nimport { UserResponse, fetchUser } from \"../../features/user/services/user.service\";\nimport { Marker } from \"../../models/Marker\";\nimport { RootState } from \"..\";\n\nexport interface UserState {\n    id: string | null;\n    username: string | null;\n    name: string | null;\n    items: Marker[];\n    chats: { chatRoom: string; users: string[], item: string }[];\n    error: string | null;\n}\n\nconst initialState: UserState = {\n    id: null,\n    username: localStorage.getItem(\"user\") || null,\n    name: null,\n    items: [],\n    chats: [],\n    error: null,\n};\n\nexport const userSlice = createSlice({\n    name: \"user\",\n    initialState,\n    reducers: {},\n    extraReducers: (builder) => {\n        builder\n            .addCase(fetchUser.pending, (state) => { })\n            .addCase(fetchUser.fulfilled, (state, action: PayloadAction<UserResponse>) => {\n                state.id = action.payload._id;\n                state.username = action.payload.username;\n                state.name = action.payload.name;\n                state.items = action.payload.items;\n                state.chats = action.payload.chats;\n                state.error = null;\n            })\n            .addCase(fetchUser.rejected, (state, action) => {\n                state.error = action.error.message as string;\n            });\n    },\n});\n\nexport const selectUser = (state: RootState) => state.user;\nexport const selectUserItems = (state: RootState) => state.user.items;\nexport const selectUserChats = (state: RootState) => state.user.chats;\n\nexport default userSlice.reducer;\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAE9C,OAAuBC,SAAS,KAAQ,2CAA2C,CAanF,GAAM,CAAAC,YAAuB,CAAG,CAC5BC,EAAE,CAAE,IAAI,CACRC,QAAQ,CAAEC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,EAAI,IAAI,CAC9CC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,EAAE,CACTC,KAAK,CAAE,IACX,CAAC,CAED,MAAO,IAAM,CAAAC,SAAS,CAAGX,WAAW,CAAC,CACjCO,IAAI,CAAE,MAAM,CACZL,YAAY,CAAZA,YAAY,CACZU,QAAQ,CAAE,CAAC,CAAC,CACZC,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CACxBA,OAAO,CACFC,OAAO,CAACd,SAAS,CAACe,OAAO,CAAE,SAACC,KAAK,CAAK,CAAE,CAAC,CAAC,CAC1CF,OAAO,CAACd,SAAS,CAACiB,SAAS,CAAE,SAACD,KAAK,CAAEE,MAAmC,CAAK,CAC1EF,KAAK,CAACd,EAAE,CAAGgB,MAAM,CAACC,OAAO,CAACC,GAAG,CAC7BJ,KAAK,CAACb,QAAQ,CAAGe,MAAM,CAACC,OAAO,CAAChB,QAAQ,CACxCa,KAAK,CAACV,IAAI,CAAGY,MAAM,CAACC,OAAO,CAACb,IAAI,CAChCU,KAAK,CAACT,KAAK,CAAGW,MAAM,CAACC,OAAO,CAACZ,KAAK,CAClCS,KAAK,CAACR,KAAK,CAAGU,MAAM,CAACC,OAAO,CAACX,KAAK,CAClCQ,KAAK,CAACP,KAAK,CAAG,IAAI,CACtB,CAAC,CAAC,CACDK,OAAO,CAACd,SAAS,CAACqB,QAAQ,CAAE,SAACL,KAAK,CAAEE,MAAM,CAAK,CAC5CF,KAAK,CAACP,KAAK,CAAGS,MAAM,CAACT,KAAK,CAACa,OAAiB,CAChD,CAAC,CAAC,CACV,CACJ,CAAC,CAAC,CAEF,MAAO,IAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIP,KAAgB,QAAK,CAAAA,KAAK,CAACQ,IAAI,GAC1D,MAAO,IAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIT,KAAgB,QAAK,CAAAA,KAAK,CAACQ,IAAI,CAACjB,KAAK,GACrE,MAAO,IAAM,CAAAmB,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAIV,KAAgB,QAAK,CAAAA,KAAK,CAACQ,IAAI,CAAChB,KAAK,GAErE,cAAe,CAAAE,SAAS,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}