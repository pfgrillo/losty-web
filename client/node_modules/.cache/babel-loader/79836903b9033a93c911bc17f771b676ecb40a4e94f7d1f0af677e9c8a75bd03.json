{"ast":null,"code":"import _slicedToArray from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import NavBarMenuList from'../MenuList';import{useAppDispatch}from'../../../../hooks/storeHook';import{logout}from'../../../../store/features/authSlice';import UserAvatarCurrentUser from'../../../../features/user/components/CurrentUser';import Divider from'../../Divider';import{Link}from'react-router-dom';import{IoIosArrowUp,IoIosArrowDown}from'react-icons/io';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var NavBarItem=function NavBarItem(_ref){var item=_ref.item,onClick=_ref.onClick;var dispatch=useAppDispatch();var username=localStorage.getItem('user');var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDropdownActive=_useState2[0],setIsDropdownActive=_useState2[1];var componentClass=['block lg:flex items-center relative cursor-pointer',isDropdownActive?\"navbar-item-label-active\":\"navbar-item-label\",item.menu?'lg:py-2 lg:px-3':'py-2 px-3'].join(' ');var itemLabel=item.isCurrentUser?username:item.label;var handleMenuClick=function handleMenuClick(){if(item.menu){setIsDropdownActive(!isDropdownActive);return;}else if(item.isLogout){dispatch(logout);localStorage.removeItem('token');localStorage.removeItem('user');setIsDropdownActive(false);return;}};var handleItemClick=function handleItemClick(){if(item.menu){setIsDropdownActive(false);}};var NavBarItemComponentContents=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center \".concat(item.menu?'bg-gray-100 0 lg:bg-transparent  p-3 lg:p-0':'',\"  hover:text-slate-500\"),onClick:handleMenuClick,children:[item.isCurrentUser&&/*#__PURE__*/_jsx(UserAvatarCurrentUser,{className:\"w-8 h-8 inline-flex\"}),item.icon,/*#__PURE__*/_jsx(\"span\",{className:\"px-2 transition-colors\",children:itemLabel}),item.menu&&(isDropdownActive?/*#__PURE__*/_jsx(IoIosArrowUp,{color:\"#6366F1\",className:\"hidden lg:inline-flex transition-colors\"}):/*#__PURE__*/_jsx(IoIosArrowDown,{color:\"#6366F1\",className:\"hidden lg:inline-flex transition-colors\"}))]}),item.menu&&/*#__PURE__*/_jsx(\"div\",{onClick:handleItemClick,className:\"\".concat(!isDropdownActive?'lg:hidden':'',\"\\n          text-sm border-b border-gray-100 lg:border lg:bg-white lg:absolute lg:top-full lg:left-0 lg:min-w-full lg:z-20 lg:rounded-lg lg:shadow-lg\"),children:/*#__PURE__*/_jsx(NavBarMenuList,{menu:item.menu,onClick:function onClick(){return setIsDropdownActive(false);}})})]});if(item.isDivider){return/*#__PURE__*/_jsx(Divider,{navBar:true});}if(item.href){return/*#__PURE__*/_jsx(Link,{to:item.href,target:item.target,className:componentClass,children:NavBarItemComponentContents});}if(item.isLogout){return/*#__PURE__*/_jsx(Link,{to:'/login',target:item.target,className:componentClass,children:NavBarItemComponentContents});}return/*#__PURE__*/_jsx(\"div\",{className:componentClass,children:NavBarItemComponentContents});};export default NavBarItem;","map":{"version":3,"names":["useState","NavBarMenuList","useAppDispatch","logout","UserAvatarCurrentUser","Divider","Link","IoIosArrowUp","IoIosArrowDown","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavBarItem","_ref","item","onClick","dispatch","username","localStorage","getItem","_useState","_useState2","_slicedToArray","isDropdownActive","setIsDropdownActive","componentClass","menu","join","itemLabel","isCurrentUser","label","handleMenuClick","isLogout","removeItem","handleItemClick","NavBarItemComponentContents","children","className","concat","icon","color","isDivider","navBar","href","to","target"],"sources":["/Users/pablogrillo/Desktop/losty-web/client/src/common/components/NavBar/Item/index.tsx"],"sourcesContent":["import { useState } from 'react';\nimport NavBarMenuList from '../MenuList';\nimport { MenuNavBarItem } from '../../../../models/MenuItems';\nimport { useAppDispatch } from '../../../../hooks/storeHook';\nimport { logout } from '../../../../store/features/authSlice';\nimport UserAvatarCurrentUser from '../../../../features/user/components/CurrentUser';\nimport Divider from '../../Divider';\nimport { Link } from 'react-router-dom';\nimport { IoIosArrowUp, IoIosArrowDown } from 'react-icons/io';\n\ntype Props = {\n  item: MenuNavBarItem;\n  onClick?: () => void;\n}\n\nconst NavBarItem = ({ item, onClick }: Props) => {\n  const dispatch = useAppDispatch();\n\n  const username = localStorage.getItem('user');\n\n  const [isDropdownActive, setIsDropdownActive] = useState(false);\n\n  const componentClass = [\n    'block lg:flex items-center relative cursor-pointer',\n    isDropdownActive\n      ? `navbar-item-label-active`\n      : `navbar-item-label`,\n    item.menu ? 'lg:py-2 lg:px-3' : 'py-2 px-3',\n  ].join(' ');\n\n  const itemLabel = item.isCurrentUser ? username : item.label;\n\n  const handleMenuClick = () => {\n    if (item.menu) {\n      setIsDropdownActive(!isDropdownActive);\n      return;\n    } else if (item.isLogout) {\n      dispatch(logout);\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      setIsDropdownActive(false);\n      return;\n    }\n  }\n\n  const handleItemClick = () => {\n    if (item.menu) {\n      setIsDropdownActive(false);\n    }\n  }\n\n  const NavBarItemComponentContents = (\n    <>\n      <div\n        className={`flex items-center ${item.menu\n          ? 'bg-gray-100 0 lg:bg-transparent  p-3 lg:p-0'\n          : ''\n          }  hover:text-slate-500`}\n        onClick={handleMenuClick}\n      >\n        {item.isCurrentUser && <UserAvatarCurrentUser className=\"w-8 h-8 inline-flex\" />}\n        {item.icon}\n        <span\n          className={`px-2 transition-colors`}\n        >\n          {itemLabel}\n        </span>\n        {item.menu && (\n          isDropdownActive\n            ? <IoIosArrowUp color=\"#6366F1\" className=\"hidden lg:inline-flex transition-colors\" />\n            : <IoIosArrowDown color=\"#6366F1\" className=\"hidden lg:inline-flex transition-colors\" />\n        )}\n      </div>\n      {item.menu && (\n        <div\n          onClick={handleItemClick}\n          className={`${!isDropdownActive ? 'lg:hidden' : ''}\n          text-sm border-b border-gray-100 lg:border lg:bg-white lg:absolute lg:top-full lg:left-0 lg:min-w-full lg:z-20 lg:rounded-lg lg:shadow-lg`}\n        >\n          <NavBarMenuList menu={item.menu} onClick={ () => setIsDropdownActive(false) }/>\n        </div>\n      )}\n    </>\n  )\n\n  if (item.isDivider) {\n    return <Divider navBar />\n  }\n\n  if (item.href) {\n    return (\n      <Link to={item.href} target={item.target} className={componentClass}>\n        {NavBarItemComponentContents}\n      </Link>\n    )\n  }\n\n  if (item.isLogout) {\n    return (\n      <Link to={'/login'} target={item.target} className={componentClass}>\n        {NavBarItemComponentContents}\n      </Link>\n    )\n  }\n\n  return <div className={componentClass}>{NavBarItemComponentContents}</div>\n}\n\nexport default NavBarItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}