{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/pablogrillo/Desktop/losty-web/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{v4 as uuidv4}from\"uuid\";import{useSelector}from\"react-redux\";import{getMessages,saveMessage}from\"../messages.service\";import{useAppDispatch}from\"../../../hooks/storeHook\";import FormField from\"../../../common/components/Form/FormField\";import InputField from\"../../../common/components/Form/InputField\";import UserAvatar from\"../../user/components\";import{useForm}from\"react-hook-form\";import{selectUser}from\"../../../store/features/userSlice\";import{VscSend}from\"react-icons/vsc\";import{selectMessageState}from\"../../../store/features/messageSlice\";import{useEffect,useRef,useState}from\"react\";import{io}from\"socket.io-client\";import{selectMarkers}from\"../../../store/features/reportSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var socket=io('http://messages',{path:'/socket.io',extraHeaders:{\"Authorization\":\"Bearer \".concat(localStorage.getItem('token'))}});var ChatContainer=function ChatContainer(_ref){var _ref2;var guestId=_ref.guestId,chatRoom=_ref.chatRoom;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var scrollRef=useRef(null);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),arrivalMessage=_useState4[0],setArrivalMessage=_useState4[1];var dispatch=useAppDispatch();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var userStore=useSelector(selectUser);var messagesStore=useSelector(function(state){return state.messages.chatRooms[chatRoom];});var messagesState=useSelector(selectMessageState);var markers=useSelector(selectMarkers);useEffect(function(){dispatch(getMessages({chatRoom:chatRoom}));},[dispatch,chatRoom]);useEffect(function(){if(messagesStore){setMessages(messagesStore.messages);}},[messagesStore]);useEffect(function(){socket.connect();socket.emit('add_user',userStore.username);return function(){if(socket){socket.disconnect();}};},[]);useEffect(function(){var _scrollRef$current;(_scrollRef$current=scrollRef.current)===null||_scrollRef$current===void 0?void 0:_scrollRef$current.scrollIntoView({behavior:'smooth'});},[arrivalMessage,messages]);useEffect(function(){if(socket){socket.on(\"msg_recieve\",function(data){if(data.chatRoom===chatRoom){setArrivalMessage({text:data.message,from:data.from});}});return function(){socket.off('msg_recieve');if(socket){socket.disconnect();}};}},[]);useEffect(function(){arrivalMessage&&setMessages(function(prev){return[].concat(_toConsumableArray(prev),[arrivalMessage]);});},[arrivalMessage]);var onSubmit=function onSubmit(_x){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var _markers$find;var guestUsername,msgs;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:guestUsername=(_markers$find=markers.find(function(marker){return marker._id===chatRoom.substring(0,24);}))===null||_markers$find===void 0?void 0:_markers$find.user;socket.emit(\"send-msg\",{to:userStore.username===guestUsername?messagesStore.host:messagesStore.guest,from:userStore.username,message:data.chatMessage,chatRoom:chatRoom});dispatch(saveMessage({from:userStore.username,to:guestId,message:data.chatMessage,chatRoom:chatRoom}));msgs=_toConsumableArray(messages);msgs.push({text:data.chatMessage,from:userStore.username});if(messagesStore.messages.find(function(msg){return msg.text===data.chatMessage;})){setMessages(function(prev){return msgs;});}reset();case 7:case\"end\":return _context.stop();}},_callee);}))).apply(this,arguments);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col flex-1 rounded-md w-full\",children:[messages?/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col justify-between h-[600px] bg-white rounded-md shadow-xl p-4 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"flex flex-col\",children:[messages.map(function(msg,index){return/*#__PURE__*/_jsxs(\"div\",{ref:scrollRef,className:\"flex items-center gap-3 px-2 py-2 \".concat(msg.from===localStorage.getItem('user')?'self-end':'self-start'),children:[msg.from!==localStorage.getItem('user')&&/*#__PURE__*/_jsx(UserAvatar,{username:msg.from,className:\"h-6 w-6\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-indigo-100 rounded-md py-1 px-5 \".concat(msg.from!==localStorage.getItem('user')?'rounded-tl-none shadow-chat-received':'rounded-br-none shadow-chat-sent'),children:msg.text}),msg.from===localStorage.getItem('user')&&/*#__PURE__*/_jsx(UserAvatar,{username:msg.from,className:\"h-6 w-6\"})]},uuidv4());}),/*#__PURE__*/_jsx(\"div\",{ref:scrollRef})]})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"py-3 w-full\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"flex flex-1 w-full\",children:/*#__PURE__*/_jsx(FormField,{id:\"chatMessage\",fullSize:true,children:/*#__PURE__*/_jsx(InputField,{type:\"text\",id:\"chatMessage\",register:register,icon:VscSend})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"py-2 flex justify-center text-sm text-main italic font-medium\",children:\"If the item is returned please click on 'Return item' button\"})]});};export default ChatContainer;","map":{"version":3,"names":["v4","uuidv4","useSelector","getMessages","saveMessage","useAppDispatch","FormField","InputField","UserAvatar","useForm","selectUser","VscSend","selectMessageState","useEffect","useRef","useState","io","selectMarkers","jsx","_jsx","jsxs","_jsxs","socket","path","extraHeaders","concat","localStorage","getItem","ChatContainer","_ref","_ref2","guestId","chatRoom","_useState","_useState2","_slicedToArray","messages","setMessages","scrollRef","_useState3","_useState4","arrivalMessage","setArrivalMessage","dispatch","_useForm","register","handleSubmit","reset","userStore","messagesStore","state","chatRooms","messagesState","markers","connect","emit","username","disconnect","_scrollRef$current","current","scrollIntoView","behavior","on","data","text","message","from","off","prev","_toConsumableArray","onSubmit","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_markers$find","guestUsername","msgs","wrap","_callee$","_context","next","find","marker","_id","substring","user","to","host","guest","chatMessage","push","msg","stop","apply","arguments","className","children","map","index","ref","id","fullSize","type","icon"],"sources":["/Users/pablogrillo/Desktop/losty-web/client/src/features/messages/components/ChatContainer.tsx"],"sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\nimport { useSelector } from \"react-redux\";\nimport { getMessages, saveMessage } from \"../messages.service\";\nimport { useAppDispatch } from \"../../../hooks/storeHook\";\nimport FormField from \"../../../common/components/Form/FormField\";\nimport InputField from \"../../../common/components/Form/InputField\";\nimport UserAvatar from \"../../user/components\";\nimport { FieldValues, SubmitHandler, useForm } from \"react-hook-form\";\nimport { selectUser } from \"../../../store/features/userSlice\";\nimport { VscSend } from \"react-icons/vsc\";\nimport { selectMessageState } from \"../../../store/features/messageSlice\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { Socket, io } from \"socket.io-client\";\nimport { selectMarkers } from \"../../../store/features/reportSlice\";\nimport { RootState } from \"../../../store\";\n\ninterface Message {\n    from: string;\n    text: string;\n}\n\ninterface Props {\n    guestId: string;\n    chatRoom: string;\n}\n\nconst socket: Socket = io('http://messages', {\n    path: '/socket.io',\n    extraHeaders: {\n        \"Authorization\": `Bearer ${localStorage.getItem('token')}`\n    }\n});\n\nconst ChatContainer = ({ guestId, chatRoom }: Props) => {\n    const [messages, setMessages] = useState<Message[]>([]);\n    const scrollRef = useRef<HTMLDivElement>(null);\n    const [arrivalMessage, setArrivalMessage] = useState<Message | null>(null);\n    const dispatch = useAppDispatch();\n    const { register, handleSubmit, reset } = useForm<FieldValues>();\n    const userStore = useSelector(selectUser);\n    const messagesStore = useSelector((state: RootState) => state.messages.chatRooms[chatRoom]);\n    const messagesState = useSelector(selectMessageState);\n    const markers = useSelector(selectMarkers);\n\n    useEffect(() => {\n        dispatch(getMessages({ chatRoom }));\n    }, [dispatch, chatRoom]);\n\n    useEffect(() => {\n        if (messagesStore) {\n            setMessages(messagesStore.messages);\n        }\n    }, [messagesStore]);\n\n    useEffect(() => {\n        socket.connect();\n        socket.emit('add_user', userStore.username!);\n\n        return () => {\n            if (socket) {\n                socket.disconnect();\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        scrollRef.current?.scrollIntoView({ behavior: 'smooth' });\n    }, [arrivalMessage, messages]);\n\n    useEffect(() => {\n        if (socket) {\n            socket.on(\"msg_recieve\", (data: { message: string, from: string, chatRoom: string }) => {\n                if (data.chatRoom === chatRoom) {\n                    setArrivalMessage({ text: data.message, from: data.from });\n                }\n            });\n\n            return () => {\n                socket.off('msg_recieve');\n                if (socket) {\n                    socket.disconnect();\n                }\n            }\n        }\n\n    }, []);\n\n    useEffect(() => {\n        arrivalMessage && setMessages((prev) => [...prev, arrivalMessage]);\n    }, [arrivalMessage]);\n\n    const onSubmit: SubmitHandler<FieldValues> = async (data) => {\n        const guestUsername = markers.find((marker) => marker._id === chatRoom.substring(0, 24))?.user;\n        socket.emit(\"send-msg\", {\n            to: userStore.username === guestUsername ? messagesStore.host! : messagesStore.guest!,\n            from: userStore.username!,\n            message: data.chatMessage,\n            chatRoom: chatRoom\n        });\n        dispatch(saveMessage({ from: userStore.username!, to: guestId, message: data.chatMessage, chatRoom }));\n\n        const msgs = [...messages];\n        msgs.push({ text: data.chatMessage, from: userStore.username! });\n        \n        if (messagesStore.messages.find((msg) => msg.text === data.chatMessage)) {\n            setMessages((prev) => msgs);\n        }\n        reset();\n    };\n\n    return (\n        <div className=\"flex flex-col flex-1 rounded-md w-full\">\n            {messages ? (<div className=\"flex flex-col justify-between h-[600px] bg-white rounded-md shadow-xl p-4 overflow-y-auto\">\n                <ul className=\"flex flex-col\">{messages.map((msg, index) => (\n                    <div key={uuidv4()} ref={scrollRef} className={`flex items-center gap-3 px-2 py-2 ${msg.from === localStorage.getItem('user') ? 'self-end' : 'self-start'}`}>\n                        {msg.from !== localStorage.getItem('user') && <UserAvatar username={msg.from!} className=\"h-6 w-6\"></UserAvatar>}\n                        <div className={`bg-indigo-100 rounded-md py-1 px-5 ${msg.from !== localStorage.getItem('user') ? 'rounded-tl-none shadow-chat-received' : 'rounded-br-none shadow-chat-sent'}`}>\n                            {msg.text}</div>\n                        {msg.from === localStorage.getItem('user') && <UserAvatar username={msg.from} className=\"h-6 w-6\"></UserAvatar>}\n                    </div>\n                ))}\n                    <div ref={scrollRef}></div>\n                </ul>\n            </div>) : null}\n            <div className=\"py-3 w-full\">\n                <form onSubmit={handleSubmit(onSubmit)} className=\"flex flex-1 w-full\">\n                    <FormField id=\"chatMessage\" fullSize>\n                        <InputField type=\"text\" id=\"chatMessage\" register={register} icon={VscSend} />\n                    </FormField>\n                </form>\n            </div>\n            <div className=\"py-2 flex justify-center text-sm text-main italic font-medium\">If the item is returned please click on 'Return item' button</div>\n\n        </div>\n    );\n};\n\nexport default ChatContainer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}